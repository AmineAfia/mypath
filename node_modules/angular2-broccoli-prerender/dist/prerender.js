"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
require('angular2-universal-polyfills');
var fs = require('fs');
var path = require('path');
var BroccoliPlugin = require('broccoli-caching-writer');
var spawn = require('child-process-promise').spawn;
var AppShellPlugin = (function (_super) {
    __extends(AppShellPlugin, _super);
    function AppShellPlugin(inputNodes, indexPath, appShellPath) {
        _super.call(this, [inputNodes]);
        this.indexPath = indexPath;
        this.appShellPath = appShellPath;
    }
    AppShellPlugin.prototype.build = function () {
        return spawn('node', [
            ("" + path.resolve(__dirname, 'child_proc.js')),
            ("--sourceHtml=" + path.resolve(this.inputPaths[0], this.indexPath)),
            ("--optionsPath=" + path.resolve(this.inputPaths[0], this.appShellPath)),
            ("--outputIndexPath=" + path.resolve(this.outputPath, this.indexPath))
        ]);
    };
    return AppShellPlugin;
}(BroccoliPlugin));
exports.AppShellPlugin = AppShellPlugin;
//# sourceMappingURL=prerender.js.map